<nav class="pt-3" aria-label="Page navigation example">
  <ul class="pagination">
  	<div class="mx-auto d-flex flex-row">
  		{% if posts.has_previous %}
  			<li class="page-item">
				<a class="page-link" href="?page={{ posts.previous_page_number }}{% if search %}&search={{ search }}{% endif %}" aria-label="Previous">
				<span aria-hidden="true">&laquo;</span>
				</a>
	    	</li>
  		{% endif %}
		
	    {% for num in posts.paginator.page_range %}
	    	{% if posts.number < num|add:3 and posts.number > num|add:-3%}
	    		<li class="page-item {% if num == posts.number %} active {% endif %}"><a class="page-link " href="?page={{ num }}{% if search %}&search={{ search }}{% endif %}">{{num}}</a></li>
	    	{% endif %}
	    	
	    {% endfor %}
	    {% if posts.has_next %}
	    	<li class="page-item">
				<a class="page-link" href="?page={{ posts.next_page_number }}{% if search %}&search={{ search }}{% endif %}" aria-label="Next">
				<span aria-hidden="true">&raquo;</span>
				</a>
			</li>
	    {% endif %}
	   </div>
   </ul>
</nav>